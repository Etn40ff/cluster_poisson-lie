%\documentclass[12pt,a4paper]{amsart}
\documentclass[a4paper]{amsart}
% this is here to force arXiv to produce a nice output
\pdfoutput=1
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{amsbsy}
\usepackage{amstext}
\usepackage{amsopn}
\usepackage{enumerate}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{microtype}
\usepackage[margin=1in,marginparwidth=0.8in, marginparsep=0.1in]{geometry}
\renewcommand{\baselinestretch}{1.2} % changes page formatting
\usepackage[pagebackref, bookmarks=true, bookmarksopen=true, bookmarksdepth=3,bookmarksopenlevel=2, colorlinks=true, linkcolor=blue, citecolor=blue, filecolor=blue, menucolor=blue, urlcolor=blue]{hyperref}
\usepackage{times} % changes font appearance
\usepackage{stmaryrd}
\usepackage{accents}
\usepackage{bbm}
\usepackage{tikz}
\usepackage[utf8]{inputenc}
\usepackage{cleveref}
%\usepackage{amsfonts}
%\usepackage[]{graphicx}
\usepackage{cleveref}

% define ambients
%\numberwithin{equation}{section}
%\numberwithin{figure}{section}
%\numberwithin{table}{section}
\newtheorem{theorem}{Theorem}%[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{claim}[theorem]{Claim}
\theoremstyle{definition}
\newtheorem{recipe}[theorem]{Recipe}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{prob}[theorem]{Problem}
\newtheorem{alg}[theorem]{Algorithm}
\newtheorem{ques}[theorem]{Question}

% shothands
\newcommand{\bbC}{\mathbb{C}}
\newcommand{\bbP}{\mathbb{P}}
\newcommand{\bbZ}{\mathbb{Z}}
\newcommand{\bbF}{\mathbb{F}}
\newcommand{\cA}{\mathcal{A}}
%\newcommand{\bx}{\mathbf{x}}
\newcommand{\bx}{X}
\newcommand{\bg}{\mathbf{g}}
\newcommand{\bc}{\mathbf{c}}
\newcommand{\ba}{\mathbf{a}}
\newcommand{\tbx}{\widetilde{\bx}}
\newcommand{\by}{\mathbf{y}}
\newcommand{\bd}{\mathbf{d}}
\newcommand{\tQ}{\widetilde{Q}}
\newcommand{\prQ}{Q_{pr}}
\newcommand{\dpQ}{Q_{dp}}
\newcommand{\mfh}{\mathfrak{h}}
\newcommand{\mfg}{\mathfrak{g}}
\newcommand{\mcO}{\mathcal{O}}
\newcommand{\mcF}{\mathcal{F}}
\newcommand{\mcG}{\mathcal{G}}
\newcommand{\mcH}{\mathcal{H}}
\newcommand{\bfi}{\mathbf{i}}
\newcommand{\bfu}{\mathbf{u}}
\newcommand{\bfv}{\mathbf{v}}
\newcommand{\bfw}{\mathbf{w}}

% Commands for marginal notes below
\usepackage[draft]{say}
\newcommand{\sayD}[1]{\say[D]{#1}}
\newcommand{\sayS}[1]{\say[S]{#1}}

% For setting off new terms
\newcommand{\newword}[1]{\textbf{\emph{#1}}}

\begin{document}
\title{Notes}
%\author[Salvatore Stella]{Salvatore Stella}
%\address[Salvatore Stella]{University of Haifa}
%\email{stella@math.haifa.ac.il}
\date{\today}
\maketitle

\section{Conventions}
It appears that \cite{CP95} and \cite{KS98} use opposite conventions to define brackets, we follow \cite{CP95}.

Let $\Phi$ be a finite type root system and $\Gamma$ the set of simple roots.
Denote by $\mcG$ the associated simple complex Lie group and by $\mfg$ its Lie algebra.

Let $\gamma:\Gamma_1\subsetneq\Gamma\rightarrow\Gamma_2\subsetneq\Gamma$ be a Belavin-Drinfeld map and extend it to a map $\gamma:\Phi_1\subsetneq\Phi\rightarrow\Phi_2\subsetneq\Phi$.
For~$\alpha,\beta\in\Phi$, write~$\alpha\prec_\gamma\beta$ if and only if $\gamma^k(\alpha)=\beta$ (in particular we have  $ht(\alpha)=ht(\beta)$).

Let $\Xi:=\{\xi_\alpha\}_{\alpha\in\Phi}\cup\{\xi_{\alpha^\vee}\}_{\alpha\in\Gamma}$ be the standard basis of $\mfg$.
Denote by $\langle\cdot,\cdot\rangle:\mfg\times\mfg\rightarrow\bbC$ the Killing form and let~$\widehat\Xi:=\{\hat\xi\, |\, \xi \in \Xi\}$ be the basis of $\mfg$ dual to $\Xi$ with respect to the Killing form.
In particular we have $\hat\xi_\alpha=\xi_{-\alpha}$ for all~$\alpha\in\Phi$.
\sayS{This is important in the definition of $r$ otherwise we would need to pick up coefficients.}

Let $t := \sum_{\xi \in \Xi} \xi\otimes \hat\xi$ be the Casimir element in $\mfg\otimes\mfg$ and $t_0 := \sum_{\alpha\in\Gamma} \xi_{\alpha^\vee}\otimes\hat\xi_{\alpha^\vee}$ its restriction to $\mfh\otimes\mfh$. 

Let $s_\gamma\in \mfh\wedge\mfh$ be a solution of the system of equations
\begin{equation}
  \label{eq: system s}
  2\big( (1-\gamma)\alpha\otimes 1\big) s_\gamma
  = 
  \big((1+\gamma)\alpha\otimes 1\big)t_0
  \qquad
  \forall \alpha\in\Gamma_1
\end{equation}
Such a solution is unique up to an element of $\mfh_\gamma\wedge\mfh_\gamma$ where $\mfh_\gamma:=\{h\in\mfh\,|\, \alpha(h) = \beta(h)\, \forall \alpha\prec_\gamma\beta\}$.

For a chosen $s_\gamma$ write  
\begin{equation}
  \label{eq: r}
  \sum_{\xi,\zeta\in\Xi} r_{\xi\zeta} \cdot \xi \otimes \zeta
  = 
  \frac{1}{2}t_0 + s_\gamma + \sum_{\alpha\in\Phi^+} \xi_{-\alpha}\otimes\xi_\alpha + \sum_{\substack{\alpha\prec_\gamma\beta\\ \alpha\in\Phi^+}} \xi_{-\alpha}\wedge \xi_\beta
\end{equation}
\sayS{$r$ depends on $s_\gamma$ but I have no nice way to write this down in formulas. We should get away with it because this is only used here.}
and define the corresponding Poisson bracket of $f,g\in\mcO(\mcG)$ by
\begin{equation}
  \label{eq: bracket}
  \{f,g\}_{\gamma,s_\gamma} 
  := 
  \sum_{\xi,\zeta\in\Xi} r_{\xi\zeta} \big( \xi^Lf\zeta^Lg-\xi^Rf\zeta^Rg \big)
\end{equation}
where, for $\xi\in\mfg$ and $f\in\mcO(\mcG)$, we write 
\[
  \xi^Lf(x):=\left.\frac{d}{dt}f\Big(x \exp(t\xi)\Big)\right|_{t=0}
  \qquad\text{and}\qquad
  \xi^Rf(x):=\left.\frac{d}{dt}f\Big(\exp(t\xi)x\Big)\right|_{t=0}
\]
for the action of the left and right invariant vector fields associated to $\xi$.

\sayS{TODO: rewrite the formula for the bracket in terms of Killing form and Lie algebra gradients? Maybe this is not useful.}

\begin{remark}
  It might be useful to rewrite equation \eqref{eq: r} in one of the following forms:
  \begin{align}
    \label{eq: r1}
    \sum_{\xi,\zeta\in\Xi} r_{\xi\zeta} \cdot \xi \otimes \zeta
    &= 
    \frac{1}{2}t_0 + s_\gamma + \sum_{\alpha\in\Phi^+\setminus\Phi_1^+} \xi_{-\alpha}\otimes\xi_\alpha 
    + \sum_{\alpha\in\Phi_1^+} 
    \Big(
      \xi_{-\alpha} \otimes \sum_{h=0}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)}
      - \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)} \otimes \xi_{-\alpha}
    \Big)\\
    \nonumber
    &= 
    \frac{1}{2}t_0 + s_\gamma + \sum_{\alpha\in\Phi^+\setminus\Phi_1^+} \xi_{-\alpha}\otimes\xi_\alpha 
    + \sum_{\alpha\in\Phi_1^+\setminus\Phi_2^+} 
    \Big(
      \sum_{h=0}^{h_\gamma(\alpha)} \xi_{-\gamma^h(\alpha)} \otimes \sum_{h'=h}^{h_\gamma(\alpha)} \xi_{\gamma^{h'}(\alpha)}
      - \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)} \otimes \sum_{h'=0}^{h-1} \xi_{-\gamma^{h'}(\alpha)}
    \Big)
  \end{align}
  where $h_\gamma(\alpha)=\max\{h\ge1:\gamma^h(\alpha)\ne0\}$ is the \emph{height} of $\alpha\in\Phi_1$, or as
  \begin{align}
    \label{eq: r2}
    &\sum_{\xi,\zeta\in\Xi} r_{\xi\zeta} \cdot \xi \otimes \zeta
    = 
    \frac{1}{2}t_0 + s_\gamma + \sum_{\beta\in\Phi^+\setminus\Phi_2^+} \xi_{-\beta}\otimes\xi_\beta 
    + \sum_{\beta\in\Phi_2^+} 
    \Big(
      \sum_{-d=0}^{d_\gamma(\beta)} \xi_{-\gamma^d(\beta)} \otimes \xi_\beta
      - \xi_\beta \otimes \sum_{-d=1}^{d_\gamma(\beta)} \xi_{-\gamma^d(\beta)}
    \Big)\\
    \nonumber
    &\qquad= 
    \frac{1}{2}t_0 + s_\gamma + \sum_{\beta\in\Phi^+\setminus\Phi_2^+} \xi_{-\beta}\otimes\xi_\beta 
    + \sum_{\beta\in\Phi_2^+\setminus\Phi_1^+} 
    \Big(
      \sum_{-d=0}^{d_\gamma(\beta)}\xi_{-\gamma^d(\beta)}\otimes \sum_{-d'=0}^d \xi_{\gamma^{d'}}(\beta)
      - \sum_{-d=0}^{d_\gamma(\beta)-1} \xi_{\gamma^d(\beta)} \otimes \sum_{-d'=d+1}^{d_\gamma(\beta)} \xi_{-\gamma^{d'}(\beta)}
    \Big)
  \end{align}
  where $d_\gamma(\beta)=\max\{d\ge1:\gamma^{-d}(\beta)\ne0\}$ is the \emph{depth} of $\beta\in\Phi_2$.
\end{remark}

For two weights $\lambda,\mu$ in the same $W$-orbit, i.e such that $\lambda=v\omega_i$ and $\mu=u\omega_i$ for some fundamental weight $\omega_i$ and two elements $u,v\in W$, denote by $\Delta_\lambda^\mu$ the generalized minor whose value on $x\in G$ is $[u^{-1}xv]_0^{\omega_i}$.
  
\section{Comparing brackets}
If $\gamma$ extends $\gamma'$ (i.e. $\gamma(\alpha) = \gamma'(\alpha)$ for all $\alpha\in \Gamma'_1$) then $s_\gamma-s_{\gamma'} \in \mfh_{\gamma'}\wedge\mfh_{\gamma'}$ because we are only imposing extra conditions. 
Therefore the bracket $\{\cdot,\cdot\}_{\gamma',s_\gamma}$ is well defined.
In particular $\{\cdot,\cdot\}_{0,s_\gamma}$ is defined for every Belavin-Drinfeld map $\gamma$.

\begin{lemma}
  Suppose $u,u',v,v'\in W$ are such that $\ell(uu') = \ell(u)+\ell(u')$ and $\ell(vv')=\ell(v)+\ell(v')$. 
  Then, for any pair of fundamental weights $\omega_i$ and $\omega_j$,
  \sayS{Think carefully about how to properly write the last two terms: right now they are only morally true.}
  \sayD{I think it will be useful for proving compatibility with the exchange matrix.  The BD arrows added to the BFZ quiver should exactly cancel these terms (the zig-zag nature of these arrows suggests that the sums will telescope nicely).}
  \[
    \frac{\{\Delta_{u\omega_i}^{vv'\omega_i},\Delta_{uu'\omega_j}^{v\omega_j}\}_{0,s_\gamma}}{\Delta_{u\omega_i}^{vv'\omega_i}\Delta_{uu'\omega_j}^{v\omega_j}}
    =
    \frac{\langle \omega_i, u' \omega_j\rangle - \langle v'\omega_i,\omega_j\rangle}{2} + (u\omega_i) \cdot s_\gamma \cdot (u u' \omega_j) - (vv'\omega_i)\cdot s_\gamma \cdot (v\omega_j)
  \]
\end{lemma}
\begin{proof}
  This is \cite[Proposition 4.19]{GSV10} together with a little parsing of the role played by $s_\gamma$.
  \reversemarginpar\sayS{It would be better to write this lemma in terms of $\lambda,\mu,\nu,\eta$ but then I am not sure of the best way to specify the sign. Can we use the partial order on weights?}
\end{proof}

Set 
\[
  \mcO^\gamma_+:=\Big\{f\in\mcO(\mcG)\,\Big|\, \xi_{-\alpha}^Lf=0 \,\forall \alpha\in\Phi^+_1\,\text{and}\, \xi_\beta^Rf=0 \,\forall\beta\in\Phi^+_2\Big\}
\]
and
\[
  \mcO^\gamma_-:=\Big\{f\in\mcO(\mcG)\,\Big|\, \xi_{-\alpha}^Rf=0 \,\forall \alpha\in\Phi^+_1\,\text{and}\, \xi_\beta^Lf=0 \,\forall\beta\in\Phi^+_2\Big\}.
\]

\begin{lemma}
  For every $f,g$ in $\mcO^\gamma_+$ (or in $\mcO^\gamma_-$) we have $\{f,g\}_{\gamma,s_\gamma} =\{f,g\}_{0,s_\gamma}$.
\end{lemma}

\begin{proof}
  Unraveling the definition of the Poisson brackets one gets:
  \begin{equation}
    \label{eq:BDtail0}
    \{f,g\}_{\gamma,s_\gamma} - \{f,g\}_{0,s_\gamma}
    = 
    \sum_{\substack{\alpha\prec_\gamma\beta\\ \alpha\in\Phi^+}} \Big(\xi_{-\alpha}^L f \xi_\beta^L g - \xi_{-\alpha}^R f \xi_\beta^R g - \xi_\beta^L f \xi_{-\alpha}^L g + \xi_\beta^R f \xi_{-\alpha}^R g\Big)
  \end{equation}
  and the claim follows.
\end{proof}

\begin{remark}
  It might be useful to rewrite equation \eqref{eq:BDtail0} in the following forms:
  \begin{equation}
    \label{eq:BDtail1}
    \{f,g\}_{\gamma,s_\gamma} - \{f,g\}_{0,s_\gamma}
    = 
    \sum_{\alpha\in\Phi_1^+} 
    \Big(
      \xi_{-\alpha}^L f \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)}^L g 
      -\xi_{-\alpha}^R f \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)}^R g
      - \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)}^L f \xi_{-\alpha}^L g
      + \sum_{h=1}^{h_\gamma(\alpha)} \xi_{\gamma^h(\alpha)}^R f \xi_{-\alpha}^R g
    \Big)
  \end{equation}
  where $h_\gamma(\alpha)=\max\{h\ge1:\gamma^h(\alpha)\ne0\}$ is the \emph{height} of $\alpha\in\Phi_1$, or as
  \begin{equation}
    \label{eq:BDtail2}
    \{f,g\}_{\gamma,s_\gamma} - \{f,g\}_{0,s_\gamma}
    = 
    \sum_{\beta\in\Phi_2^+} 
    \Big(
      \sum_{-d=1}^{d_\gamma(\beta)}\xi_{-\gamma^d(\beta)}^L f \xi_\beta^L g 
      -\sum_{-d=1}^{d_\gamma(\beta)}\xi_{-\gamma^d(\beta)}^R f \xi_\beta^R g
      - \xi_\beta^L f \sum_{-d=1}^{d_\gamma(\beta)}\xi_{-\gamma^d(\beta)}^L g
      + \xi_\beta^R f \sum_{-d=1}^{d_\gamma(\beta)}\xi_{-\gamma^d(\beta)}^R g
    \Big)
  \end{equation}
  where $d_\gamma(\beta)=\max\{d\ge1:\gamma^{-d}(\beta)\ne0\}$ is the \emph{depth} of $\beta\in\Phi_2$.
\end{remark}

\begin{lemma} For $\alpha\in\Phi$ we have $\xi_\alpha^L \Delta_\lambda^\mu = 0$ if $\alpha^\vee(\mu)\geq0$ and $\xi_\alpha^R \Delta_\lambda^\mu = 0$ if $\alpha^\vee(\lambda)\leq0$.
\end{lemma}
\begin{proof}
  It follows immediately from \cite[Lemma 2.6]{RSW17} and the definition of invariant vector fields.
\end{proof}

\begin{corollary}
  \label{cor: good}
  For two weights $\lambda$ and $\mu$ in the same $W$-orbit, if $\alpha^\vee(\lambda)\geq0$ for all $\alpha\in\Phi^+_1$ and $\beta^\vee(\mu)\geq0$ for all~$\beta\in\Phi^+_2$ then $\Delta_\lambda^\mu\in\mcO^\gamma_+$.
  Similarly if $\alpha^\vee(\mu)\leq0$ for all $\alpha\in\Phi^+_1$ and $\beta^\vee(\mu)\leq0$ for all $\beta\in\Phi^+_2$ then $\Delta_\lambda^\mu\in\mcO^\gamma_-$.
  In particular the set $\mcO^\gamma_+$ (resp. $\mcO^\gamma_-$) contains all the leading (resp. trailing) principal minors $\Delta_{\omega_i}^{\omega_i}$ (resp. $\Delta_{-\omega_i}^{-\omega_i}$).
\end{corollary}

\section{Fixing functions}
Fix a Belavin-Drinfeld map $\gamma$.

\begin{definition}
  \sayS{For historical reasons from here onwards we work with $\mcO^\gamma_-$ and trailing minors.  It should be easy enough to reverse all conventions and work with $\mcO^\gamma_+$ and leading minors. This is something one might consider doing before posting these notes.}
  A generalized minor $\Delta_\lambda^\mu$ is \newword{good} if it belongs to $\mcO^\gamma_-$. 
  In view of \cref{cor: good} this means that $\alpha^\vee(\mu)\leq0$ for all~$\alpha\in\Phi^+_1$ and $\beta^\vee(\mu)\leq0$ for all $\beta\in\Phi^+_2$.
\end{definition}
Formally the constant function is a good minor, indeed $1=\Delta_0^0$.

\begin{definition}
  A generalized minor $\Delta_\lambda^\mu$ is \newword{almost good} if either $\lambda=-\omega_i$ for some $i$ and there is a unique simple root $\alpha\in\Gamma_1$ such that $\alpha^\vee(\mu)>0$, or $\mu=-\omega_i$ for some $i$ and there is a unique simple root $\beta\in\Gamma_2$ such that~$\beta^\vee(\mu)>0$. 
  \sayS{For $SL_n$ the requirement $>0$  actually means $=1$ because all the fundamental representations are minuscule. We might want to do something else for other groups. See also Say \ref{say: =1}.} 
\end{definition}

Given a good or almost good generalized minor $\Delta_\lambda^\mu$ define
\[
  \varphi(\Delta_\lambda^\mu) :=
  \begin{cases}
    1 & \mbox{if } \Delta_\lambda^\mu \in \mcO^\gamma_-\\
    \Delta_{\omega_{i^*}}^{-\omega_i} & \mbox{if } \alpha^\vee_j(\mu) > 0 \mbox{ and } \gamma(\alpha_j) = \alpha_i\\
    \Delta_{-\omega_i}^{\omega_{i^*}} & \mbox{if } \alpha^\vee_j(\lambda) > 0 \mbox{ and } \gamma(\alpha_i) = \alpha_j\\
  \end{cases}
\]
\sayS{\label{say: =1}WARNING: maybe here we need to restrict to the case $=1$ rather than $>0$. For $SL_n$ this is irrelevant but it might be important for other types. This could be subsumed in the definition of almost good minor}
where $\omega_{i^*} = -w_0\omega_{i}$.

\begin{lemma}
  If $\gamma$ is \newword{aperiodic} in the sense of \cite{GSV19} then $\varphi^k(\Delta_\lambda^\mu)=1$ for any almost good generalized minor and a sufficiently large $k$.
\end{lemma}
\begin{proof}
  This is basically the definition of being aperiodic.
\end{proof}

From now onward we only talk about aperiodic Belavin-Drinfeld maps.
\sayS{TODO: lift this limitation.}

\begin{definition} 
  Given a good or almost good generalized minor $\Delta_\lambda^\mu$, the associated \newword{core monomial} is the product
  \[
    M_\lambda^\mu := \prod_{k=0}^\infty \varphi^k(\Delta_\lambda^\mu).
  \]
  Since $\gamma$ is aperiodic this is a finite product.
\end{definition}

\begin{definition}
  \label{def:bd function}
  Given a good or almost good generalized minor $\Delta_\lambda^\mu$, the associated \newword{Belavin-Drinfeld function} is the element
  \begin{equation}
    \label{eq:bd function}
    \Sigma_\lambda^\mu := \sum_{\zeta\in Z} (-1)^{|\zeta|} \prod_{k=0}^\infty \zeta_k\left(\varphi^k(\Delta_\lambda^\mu)\right)
  \end{equation}
  where the summation index $\zeta$ runs over the set $Z$ of all sequences of operators $\zeta_k$ of the form
  \[
    \zeta_k = \prod_{\alpha\in A_k}^\rightarrow  \xi^L_\alpha \prod_{\beta\in B_k}^\rightarrow \xi^R_\beta
  \] 
  such that both $A_k$ and $B_k$ are ordered multisubsets of $-\Gamma_1$ or of $\Gamma_2$ subject to the following requirements:
  \begin{itemize}
    \item 
      $A_{-1} = \emptyset = B_{-1} $
    \item
      if $A_k$ and $B_k$ are a multisubset of $-\Gamma_1$ then $A_{k+1} = \gamma(-A_k)$ and $B_{k-1} = \gamma(-B_k)$
    \item
      if $A_k$ and $B_k$ are a multisubset of $\Gamma_2$ then $A_k = \gamma(-A_{k-1})$ and $B_k = \gamma(-B_{k+1})$.
  \end{itemize}
  \sayS{TODO: it would be much nicer and natural here to replace the ordered multisubsets with roots in $\Phi^-_1$ and $\Phi^+_2$. I had the impression that this was not working but one should check again because it was a long time ago at the beginning of the story. One issue could be related to signs of operators correspondign to higher roots but maybe this can be addressed.}
  We used the shorthand $|\zeta|$ to denote the number $\sum_{k=0}^\infty (|A_k|+|B_k|)$.
  There is only a finite number of non-zero terms in the definition of $\Sigma_\lambda^\mu$ because all $\alpha$-strings involved are of finite length.
\end{definition}

\begin{remark}
  Belavin-Drinfeld functions are left and right homogeneous with respect to the action of $\mcH_\gamma:=\exp\mfh_\gamma$.
  This is the case because all operators $\zeta\in Z$ preserve this grading by design.
  In particular Belavin-Drinfeld functions satisfy automatically part of the big conjecture.
\end{remark}

\begin{remark}
  Clearly, if $\Delta_\lambda^\mu$ is a good generalized minor, then $\Sigma_\lambda^\mu=M_\lambda^\mu=\Delta_\lambda^\mu$.
\end{remark}

\begin{lemma}
  Definition~\ref{def:bd function} is equivalent to the following:
  \begin{equation}
    \Sigma_\lambda^\mu
    =
    \sum_{(A_r,B_r)_{r\ge0}} (-1)^{\sum_{k\ge0} (|A_{\frac{k-1}{2}}|+|A_{\frac{k}{2}}|+|B_{\frac{k}{2}}|+|B_{\frac{k+1}{2}}|)}
    \prod_{k=0}^\infty \xi^L_{A_{\frac{k}{2}}} \xi^R_{\gamma^{-1}(B_{\frac{k}{2}})} \xi^L_{\gamma(A_{\frac{k-1}{2}})} \xi^R_{B_{\frac{k+1}{2}}} \varphi^k(\Delta_\lambda^\mu)
  \end{equation}
  where $A_r\subset\Gamma_1$ and $B_r\subset\Gamma_2$ are ordered multisubsets, and we take $A_{r+\frac{1}{2}}=\varnothing=B_{r+\frac{1}{2}}$ for $r\ge0$.
\end{lemma}

\begin{lemma}
  The following hold for $\alpha\in\Phi_1^+\setminus\Phi_2^+$:
  \begin{align*}
    \sum_{h=0}^{h_\gamma(\alpha)} \xi^L_{-\gamma^h(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h=0}^{h_\gamma(\alpha)} \xi^R_{-\gamma^h(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h'=h}^{h_\gamma(\alpha)} \xi^L_{\gamma^{h'}(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h'=h}^{h_\gamma(\alpha)} \xi^R_{\gamma^{h'}(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h=1}^{h_\gamma(\alpha)} \xi^L_{\gamma^h(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h=1}^{h_\gamma(\alpha)} \xi^R_{\gamma^h(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h'=0}^{h-1} \xi^L_{-\gamma^{h'}(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
    \sum_{h'=0}^{h-1} \xi^R_{-\gamma^{h'}(\alpha)}(\Sigma_\lambda^\mu)
    &=\\
  \end{align*}
\end{lemma}

\begin{proposition}
  The functions appearing in \cite{GSV19} are Belavin-Drinfeld functions.
\end{proposition}
\begin{proof}
  This basically follows from the block structure of those functions, the definition of the operators $\zeta$, and the fact that for $SL_{n+1}$ vector fields operations associated to roots correspond to shifting rows or columns in the minors. 
  \say{TODO: write a formal proof in case we need to.}
\end{proof}

\begin{conjecture}
  If $\Delta_\lambda^\mu$ and $\Delta_\nu^\eta$ are log-canonical with respect to $\{\cdot,\cdot\}_{0,s_\gamma}$ then
  \[
    \frac{\{\Sigma_\lambda^\mu,\Sigma_\nu^\eta\}_{\gamma,s_\gamma}}{\Sigma_\lambda^\mu \Sigma_\nu^\eta} 
    = 
    \frac{\{M_\lambda^\mu,M_\nu^\eta\}_{0,s_\gamma}}{M_\lambda^\mu M_\nu^\eta}.
  \]
\end{conjecture}

We collect here some observations that might be relevant in proving the conjecture.
\begin{itemize}
  \item
   For any almost good generalized minor $\Delta_\lambda^\mu$ the generalized minor $1\neq\varphi^k(\Delta_\lambda^\mu)$ for $k>0$ is log-canonical with any other generalized minor with respect to the Poisson bracket $\{\cdot,\cdot\}_{0,s_\gamma}$.
   Indeed it is a frozen variable in the classical cluster structure.
   In particular this, together with the assumption in the conjecture, implies that $\Sigma_\lambda^\mu$ and $\Sigma_\nu^\eta$ are log-canonical with respect to $\{\cdot,\cdot\}_{\gamma,s_\gamma}$!

 \item
   One can replace the right hand side in the conjecture by the equivalent
   \[
     \frac{\{M_\lambda^\mu,M_\nu^\eta\}_{0,s_\gamma}}{M_\lambda^\mu M_\nu^\eta}
     =
     \sum_{k=0}^\infty\sum_{\ell=0}^\infty \frac{\{\varphi^k(\Delta_\lambda^\mu),\varphi^\ell(\Delta_\nu^\eta)\}_{0,s_\gamma}}{\varphi^k(\Delta_\lambda^\mu)\varphi^\ell(\Delta_\nu^\eta)}
   \]
   this could be more useful to use in an induction on $min(\{k | \varphi^k(\Delta_\lambda^\mu)=1\}\cup \{\ell | \varphi^\ell(\Delta_\nu^\eta)=1\} )$ since one can ``peel off'' one layer of minors at a time as follows.
   Write $\Delta_\rho^\sigma = \varphi(\Delta_\lambda^\mu)$ then the conjecture is equivalent to
   \[
     \frac{\{\Sigma_\lambda^\mu,\Sigma_\nu^\eta\}_{\gamma,s_\gamma}}{\Sigma_\lambda^\mu \Sigma_\nu^\eta}
     -
     \frac{\{\Sigma_\rho^\sigma,\Sigma_\nu^\eta\}_{\gamma,s_\gamma}}{\Sigma_\rho^\sigma \Sigma_\nu^\eta}
     =
     \sum_{\ell=0}^\infty \frac{\{\Delta_\lambda^\mu,\varphi^\ell(\Delta_\nu^\eta)\}_{0,s_\gamma}}{\Delta_\lambda^\mu\varphi^\ell(\Delta_\nu^\eta)}
     .
   \]

 \item
   Looking ahead, one should be able to read directly the exchange matrix of Belavin-Drinfeld functions with respect to $\{\cdot,\cdot\}_{\gamma,s_\gamma}$ out of the monomial exchange matrix of the corresponding core monomials with respect to $\{\cdot,\cdot\}_{0,s_\gamma}$.
   This is the computation Misha Shapiro was doing during Summer 2018 and of which I did not fully understand the implications at the time.

 \item 
   As Dylan pointed out, $s_\gamma$ should play a role in the computation when trying to cancel out contributions coming from the last term in $r$.
\end{itemize}

\section{Clusters}
Fix a Belavin-Drinfeld map $\gamma:\Gamma_1\rightarrow\Gamma_2$.
The content of this section has no assumptions on the type of $\Gamma$ nor on the aperiodicity of $\gamma$.

For a Dynkin diagram $\Gamma'\subseteq\Gamma$ write $\bfw_0(\Gamma')$ for any reduced word for the longest element in the Weyl group of~$\Gamma'$.
Write $\bfu$ for any reduced word such that $\bfw_0(\Gamma) = \bfw_0(\Gamma_2), \bfu$.
Similarly, write $\bfv$ for any reduced word such that $\bfw_0(\Gamma) = \bfv, \bfw_0(\Gamma_1)$.
The first goal in this section is to prove the following.
\begin{proposition}
  \label{prop: max compatible}
  Any Berenstein-Fomin-Zelevinsky seed contains at least $|\Phi_1|$ generalized minors that are not good.
  This minimum is attained by any double reduced word of the form $-\bfw_0(\Gamma_2), -\bfu, \bfv, \bfw_0(\Gamma_1)$.
\end{proposition}

\begin{remark}
  The shape of the reduced words in the previous proposition guarantees that the corresponding Berenstein-Fomin-Zelevinsky seed only contains generalized minors of the forms $\Delta_{-\omega_i}^\mu$ and $\Delta_\lambda^{-\omega_i}$.
\end{remark}

We begin with some technical result.
For a reduced word $\bfw_0=\bfw_0(\Gamma)=s_{i_1}\cdots s_{i_N}$, write
\begin{align*}
  U(\bfw_0):=&\left\{s_{i_1}\cdots s_{i_k}\omega_{i_k} \,|\, k\in[1,N]\right\}\\
  V(\bfw_0):=&\left\{s_{i_1}\cdots s_{i_{k-1}}\omega_{i_k} \,|\, k\in[1,N]\right\}.
\end{align*}

\begin{lemma}
  \label{lem: v-weights}
 The set
 \[
   \left\{\mu\in V(\bfw_0) \,|\, \alpha^\vee(\mu) > 0 \mbox{ for some } \alpha\in\Phi^+_1\right\}
 \]
 contains at least $|\Phi^+_1|$ elements.
 This minimum is attained if $\bfw_0=\bfw_0(\Gamma_1),\bfu$.
\end{lemma}
\begin{proof}
  Because the word $\bfw_0$ is reduced we have $\left(\Phi^\vee\right)^+=\left\{s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee\,|\,k\in[1,N]\right\}$.
  In particular, for any~$\alpha^\vee\in\left(\Phi_1^\vee\right)^+$ there is an index $k$ such that $\alpha^\vee=s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee$.
  We compute 
  \[
    \alpha^\vee(s_{i_1}\cdots s_{i_{k-1}}\omega_{i_k})
    =
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_{k-1}}\omega_{i_k})
    =
    \alpha_{i_k}^\vee(\omega_{i_k})
    =
    1
  \]
  and the first claim follows.

  Suppose now that $\bfw_0=\bfw_0(\Gamma_1),\bfu$ then the index $k$ in the previous computation satisfy $k\leq |\Phi_1^+|$.
  For any other index $\ell>k$ we compute
  \[
    \alpha^\vee(s_{i_1}\cdots s_{i_{\ell-1}}\omega_{i_\ell})
    =
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_{\ell-1}}\omega_{i_\ell})
    =
    %\alpha_{i_k}^\vee(s_{i_k}\cdots s_{i_{\ell-1}}\omega_{i_k})
    %=
    s_{i_{\ell-1}}\cdots s_{i_k}\alpha_{i_k}^\vee(\omega_{i_k})
    =
    -s_{i_{\ell-1}}\cdots s_{i_{k-1}}\alpha_{i_k}^\vee(\omega_{i_k})
    \leq
    0
  \]
  where the last inequality holds because $s_{i_{\ell-1}}\cdots s_{i_{k-1}}\alpha_{i_k}$ is a positive root.
  We proved the second assertion.
\end{proof}

\begin{lemma}
  \label{lem: u-weights}
  The set
  \[
    \left\{\lambda\in U(\bfw_0) \,|\, \alpha^\vee(\mu) > 0 \mbox{ for some } \alpha\in\Phi^+_2\right\}
  \]
  contains at least $|\Phi^+_2|-|\Gamma_2|$ elements.
 This minimum is attained if $\bfw_0=\bfw_0(\Gamma_2),\bfu$.
\end{lemma}
\begin{proof}
  As in the previous lemma, positions in $\bfw_0$ are in bijections with positive coroots in $\left(\Phi^\vee\right)^+$.
  Let $\Psi$ be the set of positive coroots defined by
  \[
    \Psi
    =
    \left\{s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee\,|\,k\in[1,N] \mbox{ and } i_k = i_\ell \mbox{ for some }\ell < k \right\}.
  \]
  If $\alpha^\vee \in \left(\Phi_2^\vee\right)^+$ but $\alpha^\vee \not \in \Psi$ then $\alpha^\vee= s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee$ with $\alpha_{i_k}\in\Gamma_2$ (since there is no $s_{i_k}$ to remove $\alpha_{i_k}^\vee$ from the support of $\alpha^\vee$).
  In particular we have $\left|\Psi\cap\left(\Phi_2^\vee\right)^+\right|$ = $\left|\Phi_2^+\right|-\left|\Gamma_2\right|$.
  For any $\alpha^\vee\in \Psi\cap\left(\Phi_2^\vee\right)^+$ let $\ell$ be the biggest index such that $\alpha^\vee= s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee$ and $i_\ell = i_k$.
  We have
  \[
    \alpha^\vee(s_{i_1}\cdots s_{i_\ell} \omega_{i_{\ell}})
    =
    \alpha^\vee(s_{i_1}\cdots s_{i_{k-1}} \omega_{i_{\ell}})
    =
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_{k-1}} \omega_{i_{\ell}})
    =
    1
  \]
  and the first assertion follows.

  Suppose now that $\bfw_0=\bfw_0(\Gamma_2),\bfu$.
  As before this implies $\left(\Phi_2^\vee\right)^+=\left\{s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee \, |\, k\leq|\Phi_2^+|\right\}$.
  For any~$k\leq|\Phi_2^+|$ and $\ell \geq k$ we compute
  \[
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_\ell} \omega_{i_\ell} )
    =
    \alpha_{i_k}^\vee(s_{i_k}\cdots s_{i_\ell} \omega_{i_\ell})
    =
    -s_{i_\ell}\cdots s_{i_{k+1}}\alpha_{i_k}^\vee( \omega_{i_\ell} )
    \leq
    0.
  \]
  Finally, for any $\alpha_j$ in $\Gamma_2$ let $\ell$ be the biggest index such that $i_\ell=j$; for any $k$ such that $\ell<k\leq\left|\Phi_2^+\right|$ we have 
  \[
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_\ell} \omega_{i_\ell} )
    =
    s_{i_1}\cdots s_{i_{k-1}} \alpha_{i_k}^\vee(s_{i_1}\cdots s_{i_k} \omega_{i_\ell} )
    =
    - \alpha_{i_k}^\vee(\omega_{i_\ell} )
    \leq
    0
  \]
  and we proved our second claim.
\end{proof}

\begin{proof}[Proof of \cref{prop: max compatible}]
  By \cite[equation (2.11)]{BFZ05}, any generalized minor $\Delta_\lambda^\mu$ appearing in a Berenstein-Fomin-Zelevinsky seed corresponding to a double reduced word obtained by shuffling two reduced words $(\bfw_0')^{-1}$ and~$-\bfw_0''$ is such that
  \[
    \lambda \in U(\bfw_0'')\cup \left\{\omega_i\,|\, i\in[1,n]\right\}
    \qquad
    \mbox{and}
    \qquad
    \mu \in V(\bfw_0')\cup \left\{-\omega_i\,|\, i\in[1,n]\right\}
  \]
  and the first claim follows directly from the first claim in \cref{lem: u-weights,lem: v-weights}.
  The second claim in the lemmas together with the fact that $-\bfw_0(\Gamma_2), -\bfu, \bfv, \bfw_0(\Gamma_1)$ has no shuffling guarantees that minimality is achieved.
\end{proof}

For any $\Gamma'\subseteq \Gamma$ pick a linear orientation for all the connected components of $\Gamma'$ and denote by $c'$ the Coxeter element associated to this choice in the Weyl group of $\Gamma'$. 
(There are $2^{\#\{\mbox{connected components of } \Gamma'\}}$ of them.)
Denote by $\bfw_0^{c'}(\Gamma')$ any $c'$-sorting word for the longest element in the Weyl group of $\Gamma'$.

\begin{conjecture}[Proposition-ish]
  Any generalized minor in the Berenstein-Fomin-Zelevinsky seed associated to a double reduced word of the form $-\bfw^{c_2}_0(\Gamma_2), -\bfu, \bfv, \bfw^{c_1}_0(\Gamma_1)$ consists only of good and almost good generalized minors.
\end{conjecture}
\begin{proof}[Idea of the proof]
  \sayS{Sit down and carefully fill in the details of the proof}
  It suffices to show that the generalized minors that are not good are almost good. 
  By the previous discussion concerning the fact that the word is not shuffled, it is enough to concentrate on the positions corresponding to $-\bfw^{c_2}_0(\Gamma_2)$ and $\bfw^{c_1}_0(\Gamma_1)$ separately.
  Without loss of generality we can restrict to the case in which there is only one connected component.
  Then, regardless of the type of $\Gamma$, this turns into a simple combinatorial check in a root lattice of type $A_k$.
\end{proof}

\begin{corollary}
  Suppose $\gamma$ is aperiodic.
  \sayS{This assumptions comes from the previous section and we should try to remove it.}
  For any double reduced word of the form $-\bfw^{c_2}_0(\Gamma_2), -\bfu, \bfv, \bfw^{c_1}_0(\Gamma_1)$, the collection of Belavin-Drinfeld functions $\Sigma_\lambda^\mu$ associated to the generalized minors $\Delta_\lambda^\mu$ in the corresponding Berenstein-Fomin-Zelevinsky seed is log-canonical.
\sayS{Since Berenstein-Fomin-Zelevinsky seeds consist of algebraically independent generalized minors, do we get for free that the corresponding collection of Belavin-Drinfeld functions is also algebraically independent?}
\end{corollary}

\section{Tricks for computations/miscellanea}
Left and right invariant vector fields commute.

For any generalized minor $\Delta_\lambda^\mu$ defined in terms of a minuscule representation (in particular all the one we care about for $SL_{n+1}$) and for any simple root $\alpha$,
\begin{align*}
  \xi^R_{\pm\alpha} \Delta_\lambda^\mu &= \Delta_{\lambda\mp\alpha}^\mu\\
  \xi^L_{\pm\alpha} \Delta_\lambda^\mu &= \Delta_\lambda^{\mu\pm\alpha}
\end{align*}
whenever the right hand side make sense (i.e. if the two weights in the resulting minors are in the same $W$-orbit) otherwise the result is $0$.
A similar result holds also for vector fields associated to roots of higher height but there is a sign appearing that needs to be controlled.

% bibliography
\bibliographystyle{amsalpha}
\bibliography{bibliography}

\end{document}

